<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Tarea</title>
    <link rel="stylesheet" href="task-form.component.scss"> <!-- Aquí se vincula el archivo CSS compilado -->
  </head>
<div class="container mx-auto p-4">
    <h1 class="text-2xl font-bold mb-4">{{isEditing ? 'Editar' : 'Nueva'}} Tarea</h1>
  
    <form [formGroup]="taskForm" (ngSubmit)="onSubmit()" class="max-w-md">
      <div class="mb-4">
        <label class="block text-gray-700 text-sm font-bold mb-2">
          Título *
        </label>
        <input
          formControlName="title"
          type="text"
          class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
          [ngClass]="{'border-red-500': taskForm.get('title')?.errors?.['required'] && taskForm.get('title')?.touched}"
        >
        <p *ngIf="taskForm.get('title')?.errors?.['required'] && taskForm.get('title')?.touched" 
           class="text-red-500 text-xs mt-1">
          El título es requerido
        </p>
      </div>
  
      <div class="mb-4">
        <label class="block text-gray-700 text-sm font-bold mb-2">
          Descripción
        </label>
        <textarea
          formControlName="description"
          class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
          rows="3"
        ></textarea>
      </div>
  
      <div class="mb-4">
        <label class="block text-gray-700 text-sm font-bold mb-2">
          Estado
        </label>
        <select
          formControlName="status"
          class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        >
          <option value="pendiente">Pendiente</option>
          <option value="en_progreso">En Progreso</option>
          <option value="completada">Completada</option>
        </select>
      </div>
  
      <div class="flex gap-2">
        <button
          type="submit"
          [disabled]="!taskForm.valid"
          class="bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-400"
        >
          Guardar
        </button>
        <button
          type="button"
          (click)="cancel()"
          class="bg-gray-500 text-white px-4 py-2 rounded"
        >
          Cancelar
        </button>
      </div>
    </form>
  </div>